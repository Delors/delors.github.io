<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta content="Michael Eichberg" name="author" />
<meta content="&quot;IT Sicherheit&quot;, &quot;Pentesting&quot;" name="keywords" />
<meta content="Grundlagen des Pentesting" lang="de" name="description" xml:lang="de" />
<meta content="lecture-sec-pentesting" name="id" />
<meta content="last-viewed" name="first-slide" />
<meta content="WirklichSchwierig!" name="exercises-master-password" />
<meta name="version" content="LD2 RENAISSANCE" />
<title>Pentesting</title>

    <script src="../LectureDoc2/renaissance/ld.js" type="module"></script>

    <link rel="stylesheet" href="../LectureDoc2/renaissance/ld.css" />

    
    <!-- As of 2024 it is not yet possible to use "layer" with linked stylesheets
         <link rel="stylesheet" href="../LectureDoc2/renaissance/css/themes/dhbw.css" layer="theme" />
 -->
         <style>@import url("../LectureDoc2/renaissance/css/themes/dhbw.css") layer(theme)</style>
    
</head>
<body>
<template>
<ld-topic id="pentesting">
<h1 class="title">Pentesting</h1>
<dl class="docinfo">
<dt class="dozent">Dozent<span class="colon">:</span></dt>
<dd class="dozent"><p><a class="reference external" href="https://delors.github.io/cv/folien.de.rst.html">Prof. Dr. Michael Eichberg</a></p>
</dd>
<dt class="contact">Kontakt<span class="colon">:</span></dt>
<dd class="contact"><a class="reference external" href="mailto:michael.eichberg&#64;dhbw.de">michael.eichberg&#64;dhbw.de</a>, Raum 149B</dd>
<dt class="version">Version<span class="colon">:</span></dt>
<dd class="version">1.0</dd>
</dl>
<div class="supplemental">
<dl class="field-list">
<dt>Folien<span class="colon">:</span></dt>
<dd><p><a class="reference external" href="https://delors.github.io/sec-pentesting/folien.de.rst.html">https://delors.github.io/sec-pentesting/folien.de.rst.html</a></p>
<p><a class="reference external" href="https://delors.github.io/sec-pentesting/folien.de.rst.html.pdf">https://delors.github.io/sec-pentesting/folien.de.rst.html.pdf</a></p>
</dd>
<dt>Fehler melden<span class="colon">:</span></dt>
<dd><p><a class="reference external" href="https://github.com/Delors/delors.github.io/issues">https://github.com/Delors/delors.github.io/issues</a></p>
</dd>
</dl>
</div></ld-topic>
<ld-topic class="new-section" id="einfuhrung">
<h2>Einführung</h2>
</ld-topic><ld-topic id="bedrohungen">
<h2>Bedrohungen<a class="brackets" href="#footnote-1" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></h2>
<ul class="incremental-list simple">
<li><p>Angriffsarten:</p>
<ul class="incremental-list">
<li><p>Ransomware</p></li>
<li><p>Wirtschaftsspionage</p></li>
<li><p><span class="eng">Advanced Persistent Threats</span></p></li>
<li><p>(Distributed) Denial of Service (DoS/DDoS)</p></li>
<li><p>Spam und Phishing</p></li>
</ul>
</li>
<li><p>Unterscheidung der Angreifer:</p>
<ul class="incremental-list">
<li><p>Hacker</p></li>
<li><p>Cracker („kriminelle Hacker“ oder Insider)</p></li>
<li><p>Script Kiddies</p></li>
</ul>
</li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnote-1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p><a class="citation-reference" href="#bsi-bedrohungslage" id="citation-reference-1" role="doc-biblioref">[BSI_Bedrohungslage]</a></p>
</aside>
</aside>
</ld-topic><ld-topic id="pentest-ing">
<h2>Pentest(ing)<a class="brackets" href="#footnote-2" id="footnote-reference-2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></h2>
<ul class="incremental-list">
<li><p>Sicherheitstest von einzelnen Rechnern oder von Netzwerke jeglicher Größe.</p></li>
<li><p>Prüft die Sicherheit von Systembestandteilen und Anwendungen.</p></li>
<li><p>Durchführung mit Hilfe des Einsatzes von Mitteln und Methoden, um unautorisierten Zugriff zu erhalten.</p>
<p>(D. h. mit Methoden, die auch Angreifer verwenden!)</p>
</li>
<li><p>erfordert Kenntnisse der Zielsysteme und der Zielumgebung</p></li>
<li><p>wesentliche Schritte:</p>
<ol class="arabic simple incremental-list">
<li><p>Planung und Informationssammlung</p></li>
<li><p>Auswahl der passenden Methoden und Werkzeuge</p></li>
<li><p>Durchführung</p></li>
<li><p><span class="peripheral">Analyse der Ergebnisse und Erstellung eines Berichts</span></p></li>
</ol>
</li>
</ul>
<div class="supplemental">
<p>Ein einfacher Scan nach Schwachstellen ist kein Pentest.</p>
</div><aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnote-2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#footnote-reference-2">2</a><span class="fn-bracket">]</span></span>
<p>Pentests machen nur Sinn, wenn ein IT Sicherheitskonzept existiert.</p>
</aside>
</aside>
</ld-topic><ld-topic id="ziele-des-pentesting">
<h2>Ziele des Pentesting</h2>
<ul class="incremental-list simple">
<li><p>Identifikation von Schwachstellen:</p>
<ul>
<li><p>technischer Natur</p></li>
<li><p>organisatorischer Natur</p></li>
</ul>
</li>
<li><p>Erhöhung der Sicherheit</p></li>
<li><p>Zertifizierung der IT Sicherheit durch einen Dritten</p></li>
</ul>
</ld-topic><ld-topic class="no-title center-content" id="vorbereitet-sein-ist-alles">
<h2>Vorbereitet sein ist alles....</h2>
<aside class="admonition font-size-200 warning">
<p class="admonition-title">Warnung</p>
<blockquote class="epigraph parent-background-color">
<p>It wasn't raining when Noah built the ark.</p>
<p class="attribution">—Howard Ruff</p>
</blockquote>
</aside>
<div class="supplemental">
<p>Der erste Schritt ist es vorbereitet zu sein. Ein Angriff wird kommen und wird zu einem Sicherheitsproblem führen!</p>
</div></ld-topic><ld-topic class="center-content no-title" id="momentaufnahme">
<h2>Momentaufnahme</h2>
<div class="s-font-size-200 docutils container">
<p>Ein Pentest ist immer nur eine Momentaufnahme!</p>
</div>
</ld-topic><ld-topic id="arten-von-pentests">
<h2>Arten von Pentests</h2>
<ld-grid class="default-layout">
<ld-cell class="black-background white padding-0-5em" style="align-self:auto;">
<p><strong>Black-Box</strong></p>
<ul class="incremental-list simple">
<li><p>Keine Informationen über das Zielsystem</p></li>
<li><p>Informationsgewinnung ist Teil der Aufgabe</p></li>
<li><p>„Simuliert einen Cyberangriff“</p></li>
</ul>
</ld-cell><ld-cell class="incremental padding-0-5em" style="align-self:auto;">
<p><strong>White-Box</strong></p>
<ul class="incremental-list simple">
<li><p>Umfangreiche Informationen werden bereitgestellt</p></li>
<li><p>„Simuliert ggf. einen Insiderangriff“</p></li>
</ul>
</ld-cell></ld-grid><div class="dhbw-gray-background white incremental padding-0-5em docutils container">
<p><strong>Gray-Box</strong></p>
<ul class="incremental-list simple">
<li><p>Informationen, die ein normaler Nutzer sich erarbeiten kann, werden bereitgestellt</p></li>
<li><p>„Simuliert einen Cyberangriff“</p></li>
<li><p>ggf. besseres Kosten-Nutzen-Verhältnis</p></li>
</ul>
</div>
<div class="supplemental">
<p><strong>Nicht Teil dieser LV</strong></p>
<ul>
<li><p>Pentests, die auf Social-Engineering basieren.</p></li>
<li><p>Red Team vs. Blue Team</p>
<dl class="field-list simple">
<dt>Red Team<span class="colon">:</span></dt>
<dd><p>Experten, die ein System angreifen.</p>
</dd>
<dt>Blue Team<span class="colon">:</span></dt>
<dd><p>IT Security Experten eines Unternehmens, die ein System verteidigen und dabei von entsprechenden Beratern unterstützt werden.</p>
</dd>
</dl>
<p>Ziel ist es, die Sicherheit des Systems zu erhöhen und festzustellen:</p>
<ol class="arabic simple">
<li><p>ob bzw. wie lange es gedauert hat bis der Angriff erkannt wurde,</p></li>
<li><p>wie lange es danach gedauert hat die Bedeutung des Angriffs einzuschätzen</p></li>
<li><p>und wie lange es abschließend gedauert hat bis das System wiederhergestellt und gesichert war.</p></li>
</ol>
<p>Am Ende einer Übung müssen sich beide Teams austauschen, um den maximalen Lerneffekt zu erzielen!</p>
</li>
</ul>
</div></ld-topic><ld-topic id="aufbau-von-pentests-nach-bsi">
<h2>Aufbau von Pentests nach BSI<a class="brackets" href="#footnote-3" id="footnote-reference-3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></h2>
<p id="klassifikationsschema">Klassifikationsschema des BSI:</p>
<dl class="incremental-list field-list simple">
<dt>Informationsbasis<span class="colon">:</span></dt>
<dd><p>Black-Box ↔︎ White-Box</p>
</dd>
<dt>Aggressivität<span class="colon">:</span></dt>
<dd><p>passiv scannend (keine Ausnutzung von Schwachstellen) ↔︎ aggressiv (Ausnutzung von Schwachstellen)</p>
</dd>
<dt>Umfang<span class="colon">:</span></dt>
<dd><p>Punktuelle Tests oder vollständige Tests</p>
</dd>
<dt>Vorgehensweise<span class="colon">:</span></dt>
<dd><p>verdeckt oder offensichtlich</p>
</dd>
<dt>Technik<span class="colon">:</span></dt>
<dd><p>Netzwerkzugang, physischer Zugang, Social Engineering</p>
</dd>
<dt>Ausgangspunkt<span class="colon">:</span></dt>
<dd><p>von außen oder innen</p>
</dd>
</dl>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnote-3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#footnote-reference-3">3</a><span class="fn-bracket">]</span></span>
<p><a class="citation-reference" href="#bsi-penetrationstests" id="citation-reference-2" role="doc-biblioref">[BSI_Penetrationstests]</a></p>
</aside>
</aside>
</ld-topic><ld-topic class="no-title center-content" id="risiken">
<h2>Risiken</h2>
<aside class="admonition width-100 attention">
<p class="admonition-title">Achtung!</p>
<p>Pentests können zu Störungen der normalen IT Prozesse führen.</p>
<div class="supplemental">
<p>Technische Risiken:</p>
<ul class="simple">
<li><p>DoS Attacken</p></li>
<li><p>Systemabstürze</p></li>
</ul>
</div></aside>
<aside class="admonition width-100 incremental attention">
<p class="admonition-title">Achtung!</p>
<p>Pentester können auf unternehmenskritische Daten Zugriff erhalten.</p>
</aside>
</ld-topic><ld-topic class="no-title center-content" id="grenzen-von-klassischen-pentests">
<h2>Grenzen von klassischen Pentests</h2>
<aside class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Advanced Persistent Threats (APT) sind schwer zu erkennen und klassische Pentests helfen nur bedingt.</p>
</aside>
</ld-topic><ld-topic class="new-section transition-move-left" id="rechtliche-aspekte">
<h2>Rechtliche Aspekte</h2>
</ld-topic><ld-topic id="computerkriminalitat-und-strafrecht">
<h2>Computerkriminalität und Strafrecht</h2>
<ul class="simple">
<li><p>Computerkriminalität nimmt immer mehr zu</p></li>
<li><p>Schaffung neuer Straftatbestände zwecks Generalprävention bisher nicht erfolgreich</p></li>
<li><p>Strafrechtliche Verfolgung von Computerkriminalität ist schwierig; Beweisführung ist aufwendig und schwierig</p></li>
</ul>
</ld-topic><ld-topic id="rechtslage">
<h2>Rechtslage<a class="brackets" href="#footnote-4" id="footnote-reference-4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></h2>
<ul class="incremental-list list-with-explanations">
<li><p>„[...] sich unbefugten Zugang zu einem System zu verschaffen ist in Deutschland strafbar.“</p>
<p>(D.h. Pentests ohne explizite Erlaubnis sind illegal!)</p>
</li>
<li><p>Pentests verlangen explizite schriftliche Erlaubnis zwischen Auftraggeber und Auftragnehmer</p></li>
<li><p>Ein Auftraggeber kann nur für Systeme Pentests vergeben, für die er die Verantwortung trägt</p></li>
<li><p>Pentests sind gesetzlich nicht vorgeschrieben</p></li>
<li><p>Pentests sind jedoch geeignet um nachzuweisen, dass gesetzliche Vorgaben in Hinblick auf die IT Sicherheit eingehalten werden</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnote-4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#footnote-reference-4">4</a><span class="fn-bracket">]</span></span>
<p>Es handelt sich hierbei um keine Rechtsberatung!</p>
</aside>
</aside>
<div class="supplemental">
<p>Beim Einsatz von Cloud-Diensten ist es wichtig, dass der Auftraggeber die Erlaubnis hat, einen Pentest durchzuführen.</p>
</div></ld-topic><ld-topic id="rechtliche-vorschriften-und-pentests">
<h2>Rechtliche Vorschriften und Pentests</h2>
<p>Pentests sind geeignet, um ggf. <em>nachzuweisen</em>, dass die rechtlichen Anforderungen in den folgenden Bereichen eingehalten werden:</p>
<ld-deck>
<ld-card>
<ul>
<li><p>Handelsgesetzbuch (HGB)</p>
<ul class="incremental-list list-with-explanations">
<li><p>Bestimmungen zu internen Kontrollsystemen (Abschnitt 4 GoBS)</p></li>
<li><p>Bestimmungen zur Datensicherheit (Abschnitt 5 GoBS)</p>
<p>Bestimmungen in Hinblick auf den Schutz vor Verlust und unberechtigte Veränderung</p>
</li>
</ul>
</li>
</ul>
</ld-card><ld-card class="incremental">
<ul>
<li><p>Gesetz zur Kontrolle und Transparenz im Unternehmensbereich (KonTraG)</p>
<blockquote class="epigraph">
<p>Der Vorstand hat geeignete Maßnahmen zu treffen, insbesondere ein Überwachungssystem einzurichten, damit den Fortbestand der Gesellschaft gefährdende Entwicklungen früh erkannt werden.</p>
<p class="attribution">—§ 91 Abs 2 AktG</p>
</blockquote>
</li>
</ul>
</ld-card><ld-card class="incremental">
<ul>
<li><p>Kreditwesengesetz</p>
<p>Nach § 44 Abs. 1 KWG kann der Themenbereich Internet-Sicherheit zum Gegenstand einer Prüfung gemacht werden, wenn Finanzdienstleistungen über das Internet zur Verfügung gestellt werden.</p>
</li>
</ul>
</ld-card><ld-card class="incremental">
<ul>
<li><p>Bundesdatenschutzgesetz (BDSG)</p>
<p><strong>Datenschutzaudit</strong>[#]</p>
<blockquote class="epigraph">
<p>Zur Verbesserung des Datenschutzes und der Datensicherheit können Anbieter von Datenverarbeitungssystemen und -programmen und Daten verarbeitende Stellen ihr Datenschutzkonzept sowie ihre technischen Einrichtungen durch unabhängige und zugelassene Gutachter prüfen und bewerten lassen sowie das Ergebnis der Prüfung veröffentlichen.</p>
</blockquote>
</li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footnote-5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<p>Vergleichbare Aussagen finden sich auch im Staatsvertrag für Mediendienste (MDStV)</p>
</aside>
</aside>
</ld-card><ld-card class="incremental">
<ul>
<li><p>Telekommunikationsgesetz (TKG)</p>
<blockquote class="epigraph">
<p>Wer Telekommunikationsanlagen betreibt, die dem geschäftsmäßigen Erbringen von Telekommunikationsdiensten dienen, hat bei den zu diesem Zwecke betriebenen Telekommunikations- und Datenverarbeitungssystemen angemessene technische Vorkehrungen oder sonstige Maßnahmen zum Schutze [...]</p>
<ol class="arabic simple">
<li><p>der [...]systeme gegen unerlaubte Zugriffe, [...]</p></li>
<li><p>gegen äußere Angriffe [...] zu treffen</p></li>
</ol>
<p class="attribution">—87 Abs. 1 TKG</p>
</blockquote>
</li>
</ul>
</ld-card></ld-deck><div class="supplemental">
<p>GoBS: Grundsätze ordnungsmäßiger DV-gestützter Buchführungssysteme
AktG: Aktiengesetz</p>
</div></ld-topic><ld-topic id="pentests-und-strafrechtliche-vorschriften">
<h2>Pentests und strafrechtliche Vorschriften</h2>
<ld-deck>
<ld-card>
<ul>
<li><p><strong>Zugangskontrolldiensteschutzgesetz</strong></p>
<p><em>Verbot von gewerbsmäßigen Eingriffen zur Umgehung von Zugangskontrolldiensten</em></p>
<blockquote class="epigraph">
<p>Verboten sind 1.) die Herstellung, die Einfuhr und die Verbreitung von Umgehungsvorrichtungen zu gewerbsmäßigen Zwecken, 2.) der Besitz, die technische Einrichtung, die Wartung und der Austausch von Umgehungsvorrichtungen zu gewerbsmäßigen Zwecken, 3.) die Absatzförderung von Umgehungseinrichtungen.</p>
<p class="attribution">—§ 3 ZKDSG</p>
</blockquote>
</li>
</ul>
</ld-card><ld-card class="incremental">
<ul>
<li><p><strong>Telekommunikationsgesetz</strong></p>
<p>Einsatz von Netzwerk-Sniffern und das Abhören von Netzwerkverkehr ist ggf. strafbar, wenn keine Erlaubnis eingeholt wurde.</p>
</li>
</ul>
</ld-card><ld-card class="incremental">
<ul>
<li><p><strong>Betriebsverfassungsgesetz</strong></p>
<p>Pentests sind ggf. dazu geeignet Überwachung und Leistungsbeurteilungen der Mitarbeiter (implizit oder explizit) durchzuführen. Eine Einbindung des Betriebsrats ist deswegen im Vorfeld erforderlich; auch wenn keine Intention oder Auswertung bzgl. Leistungsorientierung existiert!</p>
</li>
</ul>
</ld-card></ld-deck><aside class="admonition incremental attention">
<p class="admonition-title">Achtung!</p>
<p>Der Auftragnehmer hat die allgemeine Sorgfaltspflicht!</p>
<p><span class="peripheral">(Wenn er „aus Versehen“, die falschen IP Adressen angreift, ist der Pentester schuldig.)</span></p>
</aside>
</ld-topic><ld-topic id="beauftragung-von-pentests">
<h2>Beauftragung von Pentests</h2>
<ul class="incremental-list simple">
<li><p>typischerweise handelt es sich um <em>eine entgeltliche Geschäftsbesorgung mit Dienstleistungscharakter</em></p></li>
<li><p>Vertragsgegenstand:</p>
<ul>
<li><p>Zielsetzung (z. B. Identifikation von Schwachstellen, Erlangung einer Zertifizierung, Erhöhung der technischen Sicherheit)</p></li>
<li><p>Art des Pentests (z. B. siehe <a class="reference internal" href="#klassifikationsschema">Klassifikationsschema</a>)</p></li>
<li><p>Einzusetzende und auszuschließende Methoden</p></li>
<li><p>Aufwand (z. B. in Personentage) und Umfang bzw. Zeitraum in dem die Tests durchgeführt werden.</p></li>
</ul>
</li>
<li><p>ggf. durchführende Personen benennen (insb. bei Social-Engineering-Pentests)</p></li>
<li><p>nur ein vertretungsberechtigter des Auftraggebers (z. B. Prokurist, Geschäftsführer) kann den Vertrag wirksam abschließen</p></li>
</ul>
<div class="supplemental">
<p>Der Aufwand muss nicht deckungsgleich mit dem Zeitraum sein. Insbesondere wenn umfangreiche, automatisierte Scans eingesetzte werden, kann der Zeitraum sehr viel länger sein.</p>
</div></ld-topic><ld-topic class="transition-fade" id="referenzen">
<h2>Referenzen</h2>
<ul>
<li><div role="list" class="citation-list">
<div class="citation" id="bsi-penetrationstests" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#citation-reference-2">BSI_Penetrationstests</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/Studien/Penetrationstest/penetrationstest.pdf?__blob=publicationFile&amp;v=3">BSI Penetrationstests 2020</a></p>
</div>
</div>
</li>
<li><div role="list" class="citation-list">
<div class="citation" id="bsi-bedrohungslage" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#citation-reference-1">BSI_Bedrohungslage</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/Lageberichte/Lagebericht2023.pdf?__blob=publicationFile&amp;v=8">BSI Lagebericht 2023</a></p>
</div>
</div>
</li>
</ul>
</ld-topic>
</template>
</body>
</html>
